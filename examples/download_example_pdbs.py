import os
import aiohttp
import asyncio

async def download_pdb(pdb_id, output_dir='examples/pdbs'):
    """
    Download a PDB file given its ID asynchronously.
    
    Parameters:
    - pdb_id: the ID of the PDB file.
    - output_dir: directory to save the PDB file.
    """
    if not os.path.exists(output_dir):
        os.makedirs(output_dir)

    url = f"https://files.rcsb.org/download/{pdb_id}.pdb"
    
    async with aiohttp.ClientSession() as session:
        async with session.get(url) as response:
            if response.status == 200:
                pdb_data = await response.text()
                with open(f"{output_dir}/{pdb_id}.pdb", 'w') as file:
                    file.write(pdb_data)
            else:
                print(f"Failed to download {pdb_id}. Status code: {response.status}")

async def main():
    # Add your list of PDB IDs here
    pdb_list = ["5d8v", "3nir", "5nw3", "1ucs", "6e6o", "1r6j", "2b97", "3x34", "5tda", "5al6", "5nfm", "7avk", "2o9s", "1p9g", "7bnh", "4eic", "2hs1", "6q00", "6q00", "2fma", "1g6x", "1v6p", "4hs1", "5l87", "5o99", "3fil", "8avu", "4npd", "3g21", "3zr8", "6xvm", "6lk1", "1iqz", "1l9l", "6zsy", "1ok0", "1vbw", "2bt9", "4xdx", "1zzk", "6iip", "3zzp", "3puc", "4r5r", "1aho", "1u2h", "1xg0", "1zuu", "1m1q", "3goe", "1xmk", "3v1a", "4hgu", "3psm", "2pne", "4aqo", "4gzn", "4nds", "1lni", "1mn8", "2p5k", "3rq9", "7k9c", "1oai", "3a4r", "4txr", "6l8g", "3a02", "3ccd", "7b5w", "3teu", "4bpf", "8bj8", "1i27", "1cc8", "7t5u", "6q3p", "6q3p", "5d5y", "3vz9", "6dcm", "6n9h", "7x44", "1i2t", "1psr", "6sid", "2hin", "3ulj", "5hub", "6v67", "7cx5", "4q2l", "4k12", "4k12", "1nkd", "7ogw", "6zeg", "3t7l", "1c5e", "7ztf", "2aib", "4he6", "2v89", "1t8k", "4mak", "4j8c", "6w2g", "4xuw", "6exx", "2rhf", "5vny", "5w0h", "1tuk", "6luj", "3ds4", "1u07", "6q9l", "7lf3", "6elm", "3s2r", "7cn7", "6h8o", "6t9q", "7w2p", "3zzo", "3dnj", "4ku0", "4ku0", "6k7c", "7s7j", "2ic6", "4hro", "7soq", "3bfo", "1k8u", "2o9u", "6e1f", "6q43", "6q43", "6q43", "4emn", "7uw7", "5tzm", "6mrr", "8b2f", "6dga", "6x1x", "4od6", "5e9p", "4rgd", "6ufe", "8b6e", "6xfj", "3ipj", "8aqk", "6pqk", "1ucr", "5k2l", "6cbu", "5v2o", "5gjh", "7jgu", "6fu9", "6fu9", "1w6s", "2dlb", "2r2z", "6q0m", "6hbb", "1x6i", "7eyl", "2a26", "8f3a", "2cg7", "3g36", "7du7", "4hi8", "6l0o", "6sqp", "7chr", "7ur7", "6i05", "5hob", "7rup", "6l1p", "4a56", "7ek6", "4rwu", "2hba", "8srz", "1y6x", "7da0", "2gom", "5d78", "4f98", "2fcw", "5dhd", "2cc6", "5ol4", "4yud", "3tvj", "4j42", "8eb9", "4ltt", "4hcs", "6ts3", "6at0", "4fzp", "6fc0", "5x2e", "4m1x", "2nqw", "5inb", "3l9a", "6trj", "7rg8", "6ff1", "6fmb", "2qsb", "1jcd", "7coh", "7coh", "7coh", "7coh", "2y5p", "6b29", "7o39", "2izx", "1cy5", "5exh", "4qbo", "3cim", "3n01", "3d3b", "3bqp", "6l5h", "3jtz", "1uso", "3t47", "6t6e", "6bsc", "6bsc", "6jv7", "2xqq", "6gg7", "5xdh", "7vmf", "1mkk", "6z1v", "3ngg", "5m97", "7chq", "7r84", "5yhr", "6ds9", "6z2t", "1utg", "6fc1", "1lk2", "6tcb", "8cwt", "8b2q", "1g2r", "1fd3", "4dp1", "6g6k", "3sjm", "4yx1", "6f5z", "1yn3", "5mao", "5n41", "6qpk", "4rp3", "6e28", "6hgm", "1jo0", "4cfq", "7s5a", "3cjs", "7e4v", "6ry3", "6r5j", "4i6r", "6w0v", "4wzx", "5m0w", "7d55", "5emx", "4ydp", "4jm1", "1q7l", "2odk", "2w7a", "4wy4", "4wy4", "4wy4", "5f4c", "7plp", "1ezg", "1q5y", "4l0n", "6g8y", "2vs0", "2cb8", "3b0f", "7jjk", "2oct", "7al1", "2qfa", "3plu", "2g7o", "4fp5", "1n13", "3no7", "4zc3", "7mq3", "2xz2", "7y6c", "7y6c", "7y6c", "4ytw", "4zv0", "6ro6", "6o5w", "1v05", "7vd7", "7tzk", "6yip", "5lus", "2qjl", "7dma", "4ypc", "4jnu", "4evu", "3zoq", "6z0m", "4icv", "3kwr", "7zr2", "7r1l", "4dri", "5nhu", "6oj7", "4iej", "1n7s", "1xyi", "5ep6", "3lae", "6hk9", "5hhe", "7kih", "2hzc", "1r7j", "4cay", "1b67", "5tvo", "6zrn", "5o75", "3h87", "4c2v", "7czj", "5kht", "5vgb", "6vg5", "2qsw", "6d0h", "5obt", "6gdj", "3pp5", "6xip", "4zmk", "6kzj", "5ncw", "4wnd", "7acw", "7acw", "6tj4", "1isu", "2xrh", "4x9z", "1v5i", "1gut", "3shg", "2i5u", "2xuv", "4nl9", "2q2f", "4f2l", "2bay", "1zeq", "3ifn", "1dp7", "1sj1", "1z3e", "7r7b", "3d2q", "1egw", "6scq", "1irq", "6tgj", "1jek", "1wmh", "4f2f", "5azw", "2rkl", "7y43", "4wpy", "3lt7", "4ng0", "7ytu", "7ytu", "5e5y", "3oe3", "5by8", "6iwv", "1whz", "7bbl", "7bbl", "7bbl", "8a9x", "5tkz", "4v3l", "5jrt", "6tgs", "6mrs", "7y95", "3jxo", "4v1g", "6jle", "7mo5", "4zce", "6v1c", "7bqg", "3b4q", "3bei", "4nut", "2v33", "5ezu", "2f60", "1ugi", "1l2p", "6kwz", "6cka", "6j98", "2bkf", "6g1c", "6e55", "4zv5", "3iuw", "4u5h", "7ydo", "7m5f", "6yb5", "4b6m", "6iy4", "6o19", "8c3l", "6j4p", "7xv9", "5ctd", "5b5i", "2w8x", "5m72", "2gpi", "6ovm", "5l37", "7thn", "5k8j", "7skl", "4i0w", "5h6x", "6a71", "2xet", "4qxb", "6fto", "6fto", "6bw9", "4xrm", "4rex", "2ayd", "7w3n", "6o5k", "7a0d", "2y9u", "1wqj", "5eu0", "5xa5", "2ccq", "5t1i", "7y4a", "3qx1", "3b5n", "2d68", "2d3d", "1gvp", "1u84", "1zv1", "7zjc", "7r79", "1vcc", "4hei", "4qjv", "7mwm", "4l9u", "3ni0", "6dbp", "7nym", "1htr", "4pas", "6tm6", "7anu", "4z8t", "4tps", "3pc7", "3v3l", "2z30", "3znu", "3oiz", "4zqa", "5zkm", "6z3j", "6px4", "5lsl", "7s4n", "7s4n", "2p9x", "6hik", "3gwo", "1ufi", "7d2s", "5fvk", "8a8s", "7uhe", "3g2b", "4cvd", "3f2e", "5o8w", "3zzl", "6a7v", "6t40", "2o1k", "6b9m", "6s3f", "7jfl", "4myy", "1th7", "6wjo", "2wy8", "2bky", "2yiz", "6rsn", "3tjy", "2xsf", "1pby", "4yh8", "1hz6", "1rh6", "8bct", "1igq", "6n7o", "1flt", "3p6z", "6og4", "7egs", "7bwf", "2epi", "3aei", "1qge", "4bhr", "6gu1", "1upt", "2y4x", "5uvr", "7d2g", "3a1g", "2heo", "1q2h", "1p3q", "3r15", "6iqe", "6op8", "1bm8", "6p0q", "5g1x", "4pz1", "4rgi", "6x6f", "5abs", "6p20", "5tzd", "5umv", "6jie", "3sjh", "6k06", "4cxf", "3bv8", "6vz0", "6ist", "6d7y", "8d03", "1uuj", "3cve", "2bl0", "2o4a", "5t6j", "5t6j", "6dlm", "7xfr", "5yad", "5zyf", "7xi5", "4efo", "6xrw", "4xlg", "6j9l", "3f42", "6h8f", "5xis", "6fm8", "7ycu", "3ft1", "6i31", "3tbm", "5was", "4g92", "6au8", "1kve", "6s5z", "7ciz", "7ciz", "6wi6", "4gxb", "3hsh", "6vw9", "1ojh", "1hyp", "6iwd", "4eo1", "2i9x", "2p58", "8ejm", "3fb9", "1ytv", "1t07", "7dtl", "5kux", "3dgp", "1smx", "1oks", "3h36", "3bc1", "5xau", "7p1w", "3c0f", "2eq7", "1dfu", "7t0y", "2rji", "7rur", "1b9w", "5x42", "4gvb", "2oxl", "5fcn", "6wbp", "1fs1", "1uix", "1wz3", "6v0m", "1xak", "6dvu", "4abm", "2ba2", "1zt3", "2yzt", "3x38", "4xo1", "3zdm", "3txs", "5ip4", "4o7q", "2vqg", "5h66", "6xaw", "6xaw", "2dyj", "7o6u", "5y9w", "6l7r", "6sm4", "5b66", "5b66", "5b66", "5b66", "7lq2", "3ov8", "5w5c", "5ds2", "7a66", "4e6s", "4x86", "7owc", "2cxk", "6toc", "4ksn", "2hv8", "5vji", "6vzd", "4kv2", "7qbm", "2pqr", "5hu3", "3mhs", "7rf1", "5chl", "4hwh", "5ibw", "3qf7", "5xln", "5a6s", "5yr0", "1gl2", "2jdi", "6m7a", "5xpv", "5y5s", "4gf3", "1qzm", "3ig9", "2nr5", "4fqn", "3n8b", "6xrr", "3abd", "6qec", "3mcb", "3ip4", "4rs7", "3swy", "7v8e", "1bxy", "1nh2", "2ebo", "3u28", "5nod", "1baz", "7cnw", "3au4", "2efv", "3nrl", "7lwb", "3lyw", "1ef1", "2gsv", "8d09", "1rk8", "6sib", "3cx5", "3cx5", "6jau", "3h6p", "6f5x", "3onj", "7qih", "1o7z", "8hda", "7xp9", "5hl8", "6if4", "4bjs", "6rmv", "4u12", "6c62", "7ds2", "7nx0", "5aby", "1lts", "4mqv", "4kun", "2o4t", "2y69", "2y69", "2y69", "4e5x", "4aqr", "8bw6", "4geh", "3k6g", "1owf", "6n6r", "8fcf", "4i0x", "7scx", "6in7", "7dms", "5hfs", "3fyr", "6gzj", "8i17", "6hq9", "3ipf", "6m0q", "7v5z", "2wpv", "6ygu", "8ada", "7vmb", "4qpo", "1egp", "5tfp", "1urq", "1nkz", "2bw3", "7viv", "4u1e", "3zie", "6tj6", "6gu2", "2gr8", "1v74", "4mt2", "5bwd", "4qr9", "2fiu", "1ldd", "1n2d", "1dj8", "2guz", "1d3b", "3ajf", "8dwl", "1eay", "1s12", "2hdz", "3vc8", "4gip", "2nsn", "7qgs", "7csl", "6ghu", "3t4r", "2c3g", "3aqe", "1wq6", "8p2a", "7o97", "6fan", "4nc7", "3htu", "2zkz", "1l2w", "3mn7", "8g0p", "4pkf", "5jw9", "3e7k", "3ofh", "5cos", "7c2f", "6qnn", "4ozk", "4irv", "3be3", "5jmb", "3df6", "7t91", "5svh", "6ppv", "7wz6", "6iuf", "7ug2", "4a69", "6tun", "3zdo", "2gf4", "8au0", "7eqx", "8dml", "6v7u", "5jg9", "3jtn", "4z8e", "6ww3", "1vjq", "6nep", "4sgb", "8ahq", "3tdq", "4bwq", "6jc0", "3bbz", "6r0n", "7xnj", "2c7n", "2fb0", "5h65", "5wst", "4xyp", "8pq7", "2o6k", "1a32", "6gbo", "4m3l", "4dnn", "4ybb", "3mi9", "4ybb", "4ybb", "4ybb", "4ybb", "4ybb", "4ybb", "4ybb", "4ybb", "5mu3", "1ppj", "4dhx", "4c7n", "2d7d", "1vf6", "2c5j", "7t8i", "4jpn", "5anr", "3t0y", "4m70", "6yr7", "2ey4", "6u2d", "3t5x", "7ekn", "4v1t", "7ak7", "6rwc", "7vrc", "3wyg", "3fav", "4ds7", "7cqh", "2qn6", "4kmc", "4nzg", "7bb3", "2abz", "6b4h", "6btc", "5zng", "6vme", "6vme", "1bja", "5lcy", "4w7z", "4eij", "5uni", "1dp5", "6c90", "1xl3", "4n3y", "3cjl", "3sl9", "2xcm", "2xcm", "5hkp", "6pcf", "6oqa", "3brv", "4p1n", "1vqo", "1vqo", "2zdj", "3lk2", "7yfv", "3w3w", "1dev", "1qz7", "2c1m", "1n69", "7dhg", "7edp", "7vim", "4fbw", "3bpq", "3cs5", "3b0c", "5vmd", "5xyf", "2ygg", "4cu5", "5zgn", "6hmv", "1tii", "4lvn", "7xq5", "5dbr", "2hfe", "2fyu", "7c7i", "4zrl", "1oc0", "7bjs", "7bjs", "3im4", "6u3u", "1o9y", "7e5b", "5msm", "7wlp", "4i1s", "3uip", "6cxg", "6p8e", "4noo", "5n7f", "5fwz", "6m9k", "5nvl", "6akm", "6al9", "4j7b", "4y4o", "4y4o", "3crk", "2znl", "1b33", "6le1", "5ajs", "7wjt", "6sf3", "3e1i", "4njc", "3cqx", "1a2x", "2qti", "1h3o", "1l0s", "1wmi", "4emk", "3f1i", "3f1i", "2uuz", "3dmw", "3s64", "1tu3", "3wa0", "2ffg", "3htk", "3htk", "4ix9", "6tme", "5yzc", "6inr", "4b6w", "6yn1", "5jja", "1pyt", "6dnq", "4zoq", "8enb", "1vzj", "5gyy", "4hn7", "2yev", "6kbb", "4qnc", "7f90", "7dkz", "7dkz", "6j9m", "4mms", "6yga", "6lnm", "1jj2", "3qhe", "5xjg", "2bh1", "5d2m", "3bey", "7bv7", "4nqw", "4nj6", "7qyr", "7b9c", "5upk", "5f5s", "3wwv", "5t0f", "5ax2", "3gna", "4h10", "4v9f", "6pse", "3kvp", "5t59", "2qrd", "3mb2", "5h1x", "3g74", "6od2", "3lvj", "4ld3", "4wxa", "4r80", "1ya5", "6kqf", "4pwu", "6t46", "3erm", "2fot", "1lpb", "4fm3", "4uzy", "4l2w", "7byf", "6sr6", "4pvz", "6f3t", "4pc0", "7y3l", "1qgk", "3zig", "3m03", "7mkk", "7fdm", "3s6p", "5yax", "3dxr", "3dxr", "5x0t", "7sfy", "2nps", "4fzq", "7nx5", "7y3k", "4ueb", "5vjj", "7zj3", "7ndx", "7c9o", "4v0b", "7nxv", "7ldg", "7xmw", "4bx9", "6a6i", "4a1g", "2xpi", "3e2u", "7cui", "5u6z", "1xf5", "6bn1", "6z3u", "3sf4", "1l0n", "6kyw", "2hfg", "6sd6", "4nft", "2xqn", "3oss", "4zp3", "4ers", "4x8w", "3egr", "3lh2", "6e2q", "3hlu", "5yyl", "6m4c", "3tsi", "4ojk", "2p63", "4fip", "4c3p", "7s4a", "2o98", "7cyl", "3bk3", "3fwc", "6gx9", "7zhm", "2bec", "8j8p", "8j8p", "3fga", "3lyv", "3bid", "8h8h", "4qmg", "3kh2", "2zug", "7y3m", "5aww", "3soo", "5ejo", "7opo", "4n7v", "4yuu", "4brw", "2f66", "4ons", "4b0f", "4u27", "8fxf", "2ypa", "4qqg", "3pvl", "7z36", "7z36", "2cly", "5i9e", "2p05", "2zqk", "1qa6", "4y28", "3wgu", "1tme", "4u4r", "4u4r", "4u4r", "4u4r", "4u4r", "4u4r", "4u4r", "4z6y", "2zi0", "4kyt", "5fir", "1mr1", "2z5h", "5wai", "3d8l", "4dcz", "4nkg", "4bh6", "6ypc", "5mv4", "8i8y", "3moj", "4icg", "5en7", "4wsi", "1ka8", "5zqv", "1ngm", "6gxz", "4p6z", "4u6u", "5d7g", "4h62", "4auo", "5lz3", "1qle", "1ko6", "6iya", "2gv5", "1mqs"]


    tasks = [download_pdb(pdb_id) for pdb_id in pdb_list]
    await asyncio.gather(*tasks)
    print("Download complete.")

if __name__ == "__main__":
    asyncio.run(main())
